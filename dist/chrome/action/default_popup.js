document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("generateBtn"),t=document.getElementById("outputArea"),n=document.getElementById("apiKey"),a=document.getElementById("saveApiKey"),o=document.getElementById("model"),d=document.getElementById("spinner");var c=document.createElement("script");c.setAttribute("src","https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"),document.head.appendChild(c),chrome.storage.sync.get(["apiKey","model"],(function(e){e.apiKey&&(n.value=e.apiKey),e.model&&(o.value=e.model)})),a.addEventListener("click",(function(){const e=n.value,t=o.value;chrome.storage.sync.set({apiKey:e,model:t},(function(){console.log("API key and model saved")}))})),e.addEventListener("click",(function(){d.style.display="block",t.value="",chrome.tabs.query({active:!0,currentWindow:!0},(function(e){console.log("Scraping data from the active tab"),chrome.tabs.sendMessage(e[0].id,{action:"scrape"},(function(e){e&&e.data?chrome.storage.sync.get(["apiKey","model"],(function(n){chrome.runtime.sendMessage({action:"generate",data:e.data,apiKey:n.apiKey,model:n.model},(function(e){d.style.display="none",t.value=e.generatedCode}))})):(d.style.display="none",t.value="Error: Unable to scrape data")}))}))}))}));
//# sourceMappingURL=default_popup.js.map